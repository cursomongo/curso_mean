<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Geolocalización</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<header>
		Geolocaliación
	</header>
	<input type="button" value="Geolocalízame" id="btnGeolocalizame" onclick="geolocalizar()">
	<div id = "mapaGoogle"></div>
</body>
<script>
	function geolocalizar()
	{
		if (navigator.geolocation)
		{
			navigator.geolocation.getCurrentPosition(alRecibirLocalizacion, ErrorLocalizacion, opcionesLocalizacion);
		}
		else
		{
			alert ("No Soporte la Geolocalización");
		}

		function alRecibirLocalizacion(laPosicion)
		{
			//document.getElementById("mensaje").value = laPosicion.toString();
			/*alert
			(
				"Latitud: " + laPosicion.coords.latitude +
				"Longitud " + laPosicion.coords.longitude +
				"Altitud" + laPosicion.coords.altitude
			);*/
			var latitud = laPosicion.coords.latitude;
			var longitud = laPosicion.coords.longitude;

			var imagenMapa = "http://maps.google.com/maps/api/staticmap?sensor=false&center=" + latitud + "," + longitud + "&zoom=14&" + 
			"size=600x400&maptype=roadmap&markers=color:yellow;";
			//alert(imagenMapa);
			console.log(imagenMapa);
 			document.getElementById("mapaGoogle").innerHTML = "<img src = '" + imagenMapa + "'>";
		}


		function ErrorLocalizacion(error)
		{
			alert("fuck!!!");
		}

		var opcionesLocalizacion = { maximumAge: 0, timeout: 900000, enableHighAccuracy: true };
	}
</script>
</html>